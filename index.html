<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>VinSwap.vin</title>

    <!-- Logo tr√™n tr√¨nh duy·ªát -->
    <link rel="icon" href="logo64.png" type="image/png">

    <!-- K·∫øt n·ªëi file CSS -->
    <link rel="stylesheet" href="style.css">
</head>
<body>

    <!-- Thanh ƒëi·ªÅu h∆∞·ªõng -->
    <nav class="navbar">
        <div class="nav-left">
            <img src="logo128.png" alt="VIN Logo" class="nav-logo">
        </div>
        <div class="nav-center">
            <span id="vin-price">1 VIN = Loading... USD</span>
        </div>
    </nav>
    <!-- Trang ch√≠nh -->
    <main class="main-content">
        <h1 class="welcome-text">Welcome to VinSwap!</h1>
        <p class="subtitle">Connect to VIC & swap VIN/VIC instantl</p>
        <button id="connect-wallet" class="button">Connect Wallet</button>
    </main>
    <!-- Giao di·ªán Swap (M·∫∑c ƒë·ªãnh b·ªã ·∫©n) -->
    <div id="swap-interface" class="hidden">
        
        <!-- Header: Hi·ªÉn th·ªã ƒë·ªãa ch·ªâ v√≠ -->
        <header class="swap-header">
            <button id="disconnect-wallet" class="button">Disconnect Wallet</button>
            <div id="wallet-address" class="wallet-address">Not Connected</div>
        </header>

        <!-- Ti√™u ƒë·ªÅ Swap -->
        <h1>Swap</h1>

        <!-- Swap Container -->
        <div class="swap-wrapper">
            <!-- From Token (VIC / VIN) -->
            <div class="token-input">
                <p class="token-symbol" id="from-token-symbol">VIC</p>
                <div class="token-info">
                    <img id="from-token-logo" src="images/vic24.png" alt="VIC Token">
                    <p><span id="from-balance">0.0000</span></p>
                    <button id="max-button" class="button">Max</button>
                </div>
                <input type="number" id="from-amount" placeholder="0.0">
            </div>

            <!-- Swap Direction (‚ÜîÔ∏è) -->
            <button id="swap-direction" class="swap-direction">‚ÜîÔ∏è</button>

            <!-- To Token (VIN / VIC) -->
            <div class="token-input">
                <p class="token-symbol" id="to-token-symbol">VIN</p>
                <div class="token-info">
                    <img id="to-token-logo" src="images/vin24.png" alt="VIN Token">
                    <p><span id="to-balance">0.0000</span></p>
                </div>
                <input type="text" id="to-amount" placeholder="0.0" disabled>
            </div>
        </div>

        <!-- Swap Details -->
        <div class="swap-details">
            <p id="transaction-fee">Transaction Fee: 0.01 VIC</p>
            <p id="gas-fee">Estimated Gas Fee: ~0.000029 VIC</p>
        </div>

        <!-- Swap Button -->
        <button id="swap-now" class="button">Swap Now</button>
    </div>
    <!-- Ch√¢n trang -->
    <footer class="footer">
        <p>üåê Connect with Us</p>
        <div class="social-links">
            <a href="https://twitter.com/Vinplayvin" target="_blank" class="social-btn">‚úÖ Twitter/X</a>
            <a href="https://t.me/Vinplayvin" target="_blank" class="social-btn">‚úÖ Telegram</a>
        </div>
        <p>¬© 2025 VinSwap.vin. All rights reserved.</p>
    </footer>
    <!-- JavaScript -->
    <script src="https://cdn.jsdelivr.net/npm/ethers@5.7.2/dist/ethers.umd.min.js"></script>
    <script type="module" src="app.js"></script>

    <script>
        // üìå URL Binance API ƒë·ªÉ l·∫•y gi√° VIC theo USD
        const BINANCE_API_URL = "https://api.binance.com/api/v3/ticker/price?symbol=VICUSDT";

        // üîÑ H√†m c·∫≠p nh·∫≠t gi√° VIN
        async function updateVinPrice() {
            try {
                const response = await fetch(BINANCE_API_URL);
                const data = await response.json();

                if (!data || !data.price) {
                    throw new Error("Kh√¥ng l·∫•y ƒë∆∞·ª£c gi√° VIC t·ª´ Binance API");
                }

                const vicPrice = parseFloat(data.price); // Gi√° VIC theo USD
                const vinPrice = vicPrice * 100; // 1 VIN = 100 VIC

                // Hi·ªÉn th·ªã gi√° tr√™n thanh ƒëi·ªÅu h∆∞·ªõng
                document.getElementById("vin-price").textContent = `1 VIN = ${vinPrice.toFixed(2)} USD`;
            } catch (error) {
                console.error("‚ùå L·ªói khi c·∫≠p nh·∫≠t gi√° VIN:", error);
                document.getElementById("vin-price").textContent = "Price unavailable";
            }
        }

        // üöÄ G·ªçi ngay khi trang t·∫£i
        document.addEventListener("DOMContentLoaded", updateVinPrice);

        // üîÑ C·∫≠p nh·∫≠t m·ªói 60 gi√¢y
        setInterval(updateVinPrice, 60000);
    </script>

</body>
</html>
