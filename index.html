<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>VinSwap.vin</title>
  <link rel="icon" href="logo64.png" type="image/png" />
  <link rel="stylesheet" href="style.css" />
</head>
<body>

  <!-- Logo -->
  <div class="logo-center">
    <img src="logo128.png" alt="VIN Logo" class="logo-main"/>
  </div>

  <!-- Giá VIN -->
  <div class="price-center">
    <span id="vin-price">1 VIN = Loading... USD</span>
  </div>

  <!-- Nút Swap + Hướng dẫn -->
  <div class="connect-container">
    <button id="connect-wallet" class="button">🔁 Swap VIN/VIC</button>
    <p class="hint-text">🔔 Open VinSwap.vin in your MetaMask browser (on Viction Network) to connect and swap.</p>
  </div>

  <!-- Nội dung chính -->
  <main class="main-content">

    <!-- Thông tin về VIN -->
    <section class="vin-info">
      <h2>🪙 Thông tin về VIN</h2>
      <ul class="vin-details">
        <li>🔹 Tên: VIN</li>
        <li>🔹 Mã token: VIN</li>
        <li>🔹 Nguồn cung tối đa: 21,000,000 VIN</li>
        <li>🔹 Hợp đồng: <a href="https://www.vicscan.xyz/token/0x941F63807401efCE8afe3C9d88d368bAA287Fac4" target="_blank">Xem trên VicScan</a></li>
      </ul>

      <h2>🎮 Hệ sinh thái sử dụng VIN</h2>
      <ul class="vin-earn">
        <li>🎲 <a href="https://vinplay.vin" target="_blank">VinPlay.vin</a> – Xổ số phi tập trung</li>
        <li>🏦 <a href="https://vinbank.vin" target="_blank">VinBank.vin</a> – Gửi và vay VIN</li>
        <li>📣 <a href="https://vinsocial.vin" target="_blank">VinSocial.vin</a> – Mạng xã hội chống kiểm duyệt</li>
      </ul>

      <h2>🧭 Hướng dẫn thêm mạng Viction & token VIN</h2>
      <ul class="vin-details">
        <li>🌐 RPC: <code>https://rpc.viction.xyz</code></li>
        <li>🆔 Chain ID: <code>88</code></li>
        <li>💠 Symbol: VIC</li>
        <li>🔎 Explorer: <a href="https://vicscan.xyz" target="_blank">https://vicscan.xyz</a></li>
        <li style="margin-top:10px;">📌 Token VIN:</li>
        <li>Contract: <span class="copy-address" onclick="copyToClipboard()">0x941F63807401efCE8afe3C9d88d368bAA287Fac4</span></li>
        <li>Symbol: VIN</li>
        <li>Decimals: 18</li>
      </ul>
    </section>
  </main>

  <!-- Giao diện Swap -->
  <div id="swap-interface" class="hidden">
    <header class="swap-header">
      <button id="disconnect-wallet" class="button">Disconnect Wallet</button>
      <div id="wallet-address" class="wallet-address">Not Connected</div>
    </header>

    <h1>Swap</h1>

    <div class="swap-wrapper">
      <div class="token-input">
        <p class="token-symbol" id="from-token-symbol">VIC</p>
        <div class="token-info">
          <img id="from-token-logo" src="vic24.png" alt="VIC Token"/>
          <p><span id="from-balance">0.0000</span></p>
          <button id="max-button" class="button">Max</button>
        </div>
        <input type="number" id="from-amount" placeholder="0.0"/>
      </div>

      <button id="swap-direction" class="swap-direction">↔️</button>

      <div class="token-input">
        <p class="token-symbol" id="to-token-symbol">VIN</p>
        <div class="token-info">
          <img id="to-token-logo" src="vin24.png" alt="VIN Token"/>
          <p><span id="to-balance">0.0000</span></p>
        </div>
        <input type="text" id="to-amount" placeholder="0.0" disabled/>
      </div>
    </div>

    <div class="swap-details">
      <p id="transaction-fee">Transaction Fee: 0.01 VIC</p>
      <p id="gas-fee">Estimated Gas Fee: ~0.000029 VIC</p>
    </div>

    <button id="swap-now" class="button">Swap Now</button>
  </div>

  <!-- Footer -->
  <footer class="footer">
    <p>🌐 Connect with Us</p>
    <div class="social-links">
      <a href="https://x.com/VinEcosystem" target="_blank" class="social-btn">✅ Twitter/X</a>
      <a href="https://t.me/VinEcosystem" target="_blank" class="social-btn">✅ Telegram</a>
    </div>
    <p>© 2025 VinSwap.vin. All rights reserved.</p>
  </footer>

  <!-- Clipboard Script -->
  <script>
    function copyToClipboard() {
      const address = "0x941F63807401efCE8afe3C9d88d368bAA287Fac4";
      navigator.clipboard.writeText(address).then(() => {
        alert("✅ VIN Token Address copied to clipboard!");
      });
    }
  </script>

  <!-- VIN Price Script -->
  <script>
    const BINANCE_API_URL = "https://api.binance.com/api/v3/ticker/price?symbol=VICUSDT";
    async function updateVinPrice() {
      try {
        const response = await fetch(BINANCE_API_URL);
        const data = await response.json();
        const vicPrice = parseFloat(data.price);
        const vinPrice = vicPrice * 100;
        document.getElementById("vin-price").textContent = `1 VIN = ${vinPrice.toFixed(2)} USD`;
      } catch (error) {
        console.error("Failed to fetch VIN price:", error);
        document.getElementById("vin-price").textContent = "Price unavailable";
      }
    }
    document.addEventListener("DOMContentLoaded", updateVinPrice);
    setInterval(updateVinPrice, 60000);
  </script>

  <!-- Ether.js + App Logic -->
  <script src="https://cdn.jsdelivr.net/npm/ethers@5.7.2/dist/ethers.umd.min.js"></script>
  <script type="module" src="app.js"></script>

</body>
</html>
